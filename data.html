<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ•™è‚²å·®è· Dashboard</title>
<link rel="stylesheet" href="css/style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<main class="dashboard-container">
  <!-- å·¦å´å­—å¡å€ -->
  <div class="dashboard-left">
    <button class="active" data-type="teacherStudent">ğŸ« å¸«ç”Ÿæ¯”</button>
    <button data-type="internet">ğŸ’» ç¶²è·¯è¦†è“‹ç‡</button>
    <button data-type="graduation">ğŸ“ å‡å­¸ç‡</button>
  </div>

  <!-- å³å´åœ–è¡¨å€ -->
  <div class="dashboard-right">
    <canvas id="pieChart"></canvas>
  </div>
</main>

<!-- ä¸‹æ–¹å°èˆªåˆ— -->
<nav class="navbar">
  <ul>
    <li><a href="index.html">ğŸ </a></li>
    <li><a href="data.html" class="active">ğŸ“Š</a></li>
    <li><a href="map.html">ğŸ—ºï¸</a></li>
  </ul>
</nav>

<script>
  // å‡æ•¸æ“š
  const chartData = {
    teacherStudent: {
      labels: ["éƒ½å¸‚ 1:18", "åé„‰ 1:35"],
      data: [18, 35]
    },
    internet: {
      labels: ["éƒ½å¸‚ 95%", "åé„‰ 40%"],
      data: [95, 40]
    },
    graduation: {
      labels: ["éƒ½å¸‚ 88%", "åé„‰ 55%"],
      data: [88, 55]
    }
  };

  const ctx = document.getElementById('pieChart').getContext('2d');

  let pieChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: chartData.teacherStudent.labels,
      datasets: [{
        data: chartData.teacherStudent.data,
        backgroundColor: ['#ffdf00', '#353535']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            color: '#fff'
          }
        }
      }
    }
  });

  // å·¦å´å­—å¡åˆ‡æ›æ•¸æ“š
  const buttons = document.querySelectorAll('.dashboard-left button');
  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      buttons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
  
      const type = btn.getAttribute('data-type');
      pieChart.data.labels = chartData[type].labels;
      pieChart.data.datasets[0].data = chartData[type].data;
      pieChart.update();
    });
  });
</script>

</body>
</html>